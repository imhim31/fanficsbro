<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fanfics</title>
<link rel="icon" href="https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/a.PNG?v=1731478429002" type="image/icon type">
</head>

<body>

<h1 class="h1background">Can read again</h1>
<div class="emojiDiv" id="canReadAgain">

<p class="background">
-this could be a city (THE GOAT, slowest burn, charlie and dean besties, WHOLSOME ASF <a class="emoji">happy</a>, i love it, bennyxdean)


<a class="emoji">star</a><a target="_blank" href="https://archiveofourown.org/works/21719980/chapters/51809620">link</a><a class="emoji">star</a>

<br>

-the place where tyrants must lament (most goated butchlander fic unironically <a class="emoji">proud</a>)

<a class="emoji">star</a><a target="_blank" href="https://archiveofourown.org/works/40799577/chapters/102230739">link</a><a class="emoji">star</a>
<br>

-He Won't Tell You That He Loves You (house realizes hes in love w his best bud and starts acting weird, nice one couldnt stop reading) 
<a class="emoji">star</a><a target="_blank" href="https://archiveofourown.org/works/23894611/chapters/57445597">link</a><a class="emoji">star</a><br>

-There's Something About Corbett(hilarious wholesome short cobett/ed)
<a class="emoji">star</a><a target="_blank" href="https://archiveofourown.org/works/16633565">link</a><a class="emoji">star</a><br>
</p>
</div>
  
<br><br><br>
<h1 class="h1background">Shorties</h1>
<div class="emojiDiv" id="shorties">
<p class="background">
-A Differential Diagnosis for Green Silk
(When he first notices the green tie, he treats it as a joke. hilson) 
<a class="emoji">star</a><a target="_blank" href="https://archiveofourown.org/works/180692?view_adult=true">link</a><a class="emoji">star</a><br>

-Late Love in Early Spring
(House has been pestering Wilson all week with his advice for wooing Cuddy. Wilson doesn’t mind it, but it makes him think about some things… hilson) <br>
<a class="emoji">star</a><a target="_blank" href="https://archiveofourown.org/works/60611665">link</a><a class="emoji">star</a><br>  

-the escalated butt dial (highkey hilarious, hilson)
<a class="emoji">star</a><a target="_blank" href="https://archiveofourown.org/works/45394612?view_full_work=true">link</a><a class="emoji">star</a><br>  
  
-to search for worry, is to love without deceit (Really short, a little funny, a little sad, hilson)
<a class="emoji">star</a><a target="_blank" href="https://archiveofourown.org/works/60825844?view_adult=true">link</a><a class="emoji">star</a><br>  
  
-keep me where the light is (lowkey mid, can be read in a night, hilson)
<a class="emoji">star</a><a target="_blank" href="https://archiveofourown.org/works/46210411">link</a><a class="emoji">star</a><br>  
</p>
</div>

<br><br><br>
<h1 class="h1background">Not rlly worth reading again</h1>
<div class="emojiDiv" id="notWorthReading">
<p class="background">
-ZnMoO4 (weird, stockhome def, butchlander) might be zinc molybdate idk<br>
-the construction of homelande (L butchlander in highschool a lot of pedos didnt read all dat)<br>
-of blood and fangs (didnt like, dean and benny, very teenage girl Dean vibes<a class="emoji">nerd</a>)
</p>

</div>

<br><br><br>
<h1 class="h1background">Add a New Entry</h1>
<form id="addEntryForm" class="background">
  <select name="category" required>
    <option value="">Select Category</option>
    <option value="canReadAgain">Can Read Again</option>
    <option value="shorties">Shorties</option>
    <option value="notWorthReading">Not Worth Reading</option>
  </select>
  <input name="title" placeholder="Title" required>
  <input name="description" placeholder="Description" required>
  <input name="link" placeholder="Link (optional)">
  <button type="submit">Add Entry</button>
</form>

<button onclick="document.location='fanficsbro/emojis.html'" style="background-color: #ff8f0f;
border: 2px solid  #f74dab; font-size:200%; "> Emojis </button>

<br><br>
<div class="footer">
<img class="footimg" src="https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/b.png?v=1731478434939" alt="" width="30%" height="30%">
<img src="https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/b.png?v=1731478434939" alt="" width="30%" height="30%">
<img src="https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/b.png?v=1731478434939" alt="" width="30%" height="30%">
</div>

  
<style>
body {
  background-color:#ff9ed4;
  #background-image: url('https://i.pinimg.com/564x/36/fd/74/36fd7465c6efd2cc221f46ff62ef7ad3.jpg');
background-size: 100% 100%;
background-repeat: no-repeat;
background-attachment: fixed;
}

.background{
background-color: rgba(247, 77, 171);
color: white;
font-family:verdana;
border-style: dashed;
border-color:white; 
padding: 2%;

}
.h1background{
#background-color: rgba(204, 204, 204, 0.5);
  background-color:rgba(247, 77, 171);
color: white;
}
.footer{
    position: absolute;
    bottom:0.02;
}

.xd{
  position:relative;
  top:2.5%;
 height:19px;
background-size: cover;
background-color: rgba(204, 204, 204, 0);
}
 .emojiDiv {
display: flex;
}

 *{
cursor: url(https://ani.cursors-4u.net/smiley/smi-3/smi310.cur), auto !important;
}


/* unvisited link */
a:link {
color:#f74dab;
background-image: url('https://i.pinimg.com/564x/fa/df/76/fadf76666e257d5a2d0375f96f791159.jpg');
  text-decoration: none;
background-size: 100% 100%;
cursor: url(https://ani.cursors-4u.net/smiley/smi-3/smi283.cur), auto !important;
}

/* visited link */
a:visited {
color:#f74dab;
background-image: url('https://i.pinimg.com/564x/fa/df/76/fadf76666e257d5a2d0375f96f791159.jpg');
  text-decoration: none;
background-size: 100% 100%;
cursor: url(https://ani.cursors-4u.net/smiley/smi-3/smi283.cur), auto !important;
}
/* visited link */
button {
color:#f74dab;
background-image: url('https://i.pinimg.com/564x/fa/df/76/fadf76666e257d5a2d0375f96f791159.jpg');
  text-decoration: none;
background-size: 100% 100%;
cursor: url(https://ani.cursors-4u.net/smiley/smi-3/smi283.cur), auto !important;
}
  
  /* Form styles */
  #addEntryForm {
    background-color:#f74dab; 
    padding:10px;
    margin-bottom:20px;
  }
  #addEntryForm input, #addEntryForm select, #addEntryForm button {
    display:block; 
    margin:5px 0; 
    padding:5px;
    font-size: 16px;
  }
</style>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDLmVWE3eIbHFqqnpN5bGygjZUf8kB5HeE",
  authDomain: "fanfics-2f495.firebaseapp.com",
  projectId: "fanfics-2f495",
  storageBucket: "fanfics-2f495.firebasestorage.app",
  messagingSenderId: "634198499413",
  appId: "1:634198499413:web:fa1bb662798a35e70934dc"
};

// Initialize Firebase (compat)
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Example: test reading from Firestore
db.collection("entries").get().then(snapshot => {
  snapshot.forEach(doc => {
    console.log(doc.id, doc.data());
  });
});
</script>

  <script>
// ====== DYNAMIC FIREBASE ENTRIES WITH DEBUGGING ======
const form = document.getElementById('addEntryForm');
const sections = {
  canReadAgain: document.getElementById('canReadAgain'),
  shorties: document.getElementById('shorties'),
  notWorthReading: document.getElementById('notWorthReading')
};

function renderEntries(snapshot) {
  snapshot.forEach(doc => {
    const e = doc.data();
    if (e.category && sections[e.category]) {
      // Check if there's already a <p> inside this div
      let p = sections[e.category].querySelector('p.background');
      if (!p) {
        // If no <p> exists, create one
        p = document.createElement('p');
        p.className = 'background';
        sections[e.category].appendChild(p);
      }

      // Append new entry content inside the same <p>
      p.innerHTML += `
        -${e.title} (${e.description})
        ${e.link ? `<img class= 'xd' src='https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/a.gif'><a target="_blank" href="${e.link}">link</a><img class= 'xd' src='https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/a.gif'><br>` : ''}
      `;
    }
  });
  elementsToEmoji();
  replaceEmojisInText();
}



// Real-time listener
db.collection('entries').onSnapshot(snapshot => {
  console.log('Snapshot received:', snapshot.docs.length); // Debug log
  renderEntries(snapshot);
});

// Handle new entries
form.addEventListener('submit', async e => {
  e.preventDefault();
  const f = e.target;
  
  // Make sure a category is selected
  if (!f.category.value) {
    alert('Please select a category!');
    return;
  }
  
  const newEntry = {
    category: f.category.value,
    title: f.title.value.trim(),
    description: f.description.value.trim(),
    link: f.link.value.trim()
  };
  
  console.log('Adding entry:', newEntry); // Debug log
  
  try {
    await db.collection('entries').add(newEntry);
    console.log('Entry added successfully!');
    f.reset();
  } catch (err) {
    console.error('Error adding entry:', err);
  }
});
</script>

<script>
var elements = document.getElementsByClassName("emoji");
var names = '';
const myJSON = '{"star":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/a.gif","nerd":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/8500-toro-nerd.gif?v=1731489114587","catnono":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/3258-toro-big-nono.gif?v=1731489079862","catdancing":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/1299-toro-cat-danceheart.gif?v=1731489096338","catangry":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/8500-toro-superangry.gif?v=1731489117693","bearkiss":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/3155-pastelbear-kiss.gif?v=1731489101861","beareat":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/3609-pastelbear-eat.gif?v=1731489109327","teddybear":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/97835-teddybear.png?v=1731489181476","kirbyyay":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/14220-kirbyyay.gif?v=1731489121227","kirbyyes":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/26459-kirbyyes.gif?v=1731489125073","proud":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/33701-tiktokproud.png?v=1731489173601","happy":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/8194-tt-happy.png?v=1731489157323", "ttflushed":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/1514-tt-flushed.png?v=1731489129181", "ttthumbsup":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/1662-tt-thumbs-up.png?v=1731489131217","ttannoyed":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/2489-tt-annoyed.png?v=1731489135623", "ttangry":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/3887-tt-angry.png?v=1731489138960", "ttdrool":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/6754-tt-drool.png?v=1731489142879", "ttsulk":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/7290-tt-sulk.png?v=1731489145336","ttrollingeyes":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/7576-tt-rolling-eyes.png?v=1731489151338", "ttthinking":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/8082-tt-thinking.png?v=1731489153708","ttweep":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/8743-tt-weep.png?v=1731489160109","ttshy":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/8812-tt-shy.png?v=1731489163671","ttsobbing":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/10529-tt-sobbing.png?v=1731489166715", "ttuhuh":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/39582-uhuh.png?v=1731489177292","ttheh":"https://cdn.glitch.global/381f1ea9-3b68-4215-8c0b-5811be8e5192/30920-heh.png?v=1731489171141"}';
const myObj = JSON.parse(myJSON);
let link = "";

for (let i in myObj) {
  link = myObj[i]
  
  for(var x = 0; x < elements.length; x++) {
    name = elements[x].innerHTML;
    var txt1 = "<img class= 'xd' src=''>"
    if (new String(name).valueOf() ==i){
        console.log("bok");
      var txt2 = txt1.slice(0, 22) + link + txt1.slice(22,29);
        elements[x].innerHTML = txt2;
    }
}}

const elementsToEmoji = () => {
  const elements = document.getElementsByClassName("emoji");
  const myObj = JSON.parse(myJSON);
  for (let i in myObj) {
    link = myObj[i]
  
    for(var x = 0; x < elements.length; x++) {
      name = elements[x].innerHTML;
      var txt1 = "<img class= 'xd' src=''>"
      if (new String(name).valueOf() ==i){
          console.log("bok");
        var txt2 = txt1.slice(0, 22) + link + txt1.slice(22,29);
          elements[x].innerHTML = txt2;
      }
}}
};

const replaceEmojisInText = () => {
  const emojiMap = JSON.parse(myJSON);

  // Scan the entire document
  const allTextElements = document.body.querySelectorAll('*');

  allTextElements.forEach(el => {
   
      let html = el.innerHTML;
      for (let name in emojiMap) {
        const regex = new RegExp(`:${name}:`, 'g'); // :star:
        html = html.replace(regex, `<img class='xd' src='${emojiMap[name]}'>`);
      }
      el.innerHTML = html;
    
  });
};


</script>

</body>
</html>







